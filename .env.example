# OpenRouter Configuration
OPENAI_API_BASE=https://openrouter.ai/api/v1
OPENAI_API_KEY=your-openrouter-api-key-here
MODEL_NAME=qwen/qwen3-max

# Application Settings
LOG_LEVEL=INFO
SESSION_TTL_SECONDS=3600
ENVIRONMENT=development

# Embedding Configuration
# NOTE: Embeddings must be pre-computed before starting the service
# Run these commands once before first startup:
#   python -m src.precompute_embeddings
#   python -m src.precompute_parenting_embeddings --force
#
# Optional: Override embedding paths (defaults shown)
# INDEX_PATH=data/embeddings/
# PARENTING_INDEX_PATH=data/parenting_index

# Chunking System Configuration
OPENROUTER_API_KEY=your-openrouter-api-key-here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
CACHE_DIR=.cache

# PostgreSQL Configuration (002-semantic-search)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=medical_knowledge
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Database connection string
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/medical_knowledge

# Semantic Search - Embedding Configuration
SEMANTIC_EMBEDDING_MODEL=Qwen/Qwen3-Embedding-0.6B
SEMANTIC_EMBEDDING_DEVICE=mps
SEMANTIC_EMBEDDING_BATCH_SIZE=1
SEMANTIC_EMBEDDING_MAX_LENGTH=1024

# Semantic Search - Reranker Configuration
SEMANTIC_RERANKER_MODEL=Qwen/Qwen3-Reranker-0.6B
SEMANTIC_RERANKER_DEVICE=mps
SEMANTIC_RERANKER_BATCH_SIZE=1
SEMANTIC_RERANKER_TOP_K=5
SEMANTIC_RERANKER_CANDIDATE_COUNT=20

# Retrieval Strategy Configuration
# Options: "simple" (no reranking), "rerank" (two-stage), "advanced" (query expansion + rerank)
RETRIEVAL_STRATEGY=simple

# Model Loading Configuration
# True = load models at startup, False = lazy load on first use
PRELOAD_MODELS=False

# Feature Flags
# Temporarily disable parenting system to focus on medication Q&A POC
ENABLE_PARENTING=False
# Enable database retry logic (False for POC to fail fast)
ENABLE_RETRIES=False

# Model Names (standardized uppercase constants)
EMBEDDING_MODEL=Qwen/Qwen3-Embedding-0.6B
RERANKER_MODEL=Qwen/Qwen3-Reranker-0.6B
